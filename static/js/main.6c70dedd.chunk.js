(this.webpackJsonpclient_web=this.webpackJsonpclient_web||[]).push([[0],{32:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},66:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},97:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),r=c(18),i=c.n(r),o=(c(52),c(53),c(54),c(56),c(57),c(4)),j=c(20),l=c.n(j),b=c(3),d=c.n(b),u=c(5),O=c(2),p=(c(32),c(6)),m=c.n(p),x=c(8),h=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"header p-2 px-2",children:[Object(n.jsx)("div",{className:"px-2",children:Object(n.jsxs)("span",{className:"logo text-primary",children:["DonateApp",e.home?Object(n.jsxs)("span",{className:"float-right",children:[Object(n.jsx)(x.Link,{to:"/profile/me",children:Object(n.jsx)(m.a,{icon:"user",className:"icon mr-4"})}),Object(n.jsx)(m.a,{icon:"bell",className:"icon mr-4"}),Object(n.jsx)(m.a,{icon:"settings",className:"icon"})]}):Object(n.jsx)("span",{className:"float-right",children:Object(n.jsx)(m.a,{icon:"info",className:"icon"})})]})}),e.home&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"mt-2",children:[Object(n.jsxs)("div",{className:"togglerbg bg-light",children:[Object(n.jsx)("button",{className:"requirement"==e.type?" btn btn-sm  btn-primary":" btn btn-sm  btn-light",onClick:function(){return e.settype("requirement")},children:"Requirements"}),Object(n.jsx)("button",{className:"requirement"!=e.type?" btn btn-sm ml-2 btn-primary":" btn btn-sm ml-2  btn-light",onClick:function(){return e.settype("donation")},children:"Donation"})]}),Object(n.jsx)("div",{className:"filterbtnbg bg-light",children:Object(n.jsx)("button",{className:"btn btn-sm btn-light  ",children:"  Filter"})})]})})]}),e.home&&Object(n.jsx)(x.Link,{to:"/addpost",children:Object(n.jsx)("div",{className:"add-btn",children:Object(n.jsx)(m.a,{className:"add-icon",icon:"plus",size:40,color:"#007bff"})})})]})},f=(c(66),c(67)),g=function(e){var t=e.data,c=e.setcopied,a=e.fullview,r=Object(s.useState)(!1),i=Object(O.a)(r,2),o=i[0],j=i[1];return Object(n.jsxs)("div",{className:"post-div",children:[Object(n.jsx)(x.Link,{to:"/profile/"+t.userid._id,children:Object(n.jsxs)("span",{className:"h5 d-inline-block text-truncate m-0 truncate2 text-black",children:[Object(n.jsx)("img",{src:t.userid.profilepic,className:"post-dp mr-2 "}),Object(n.jsxs)("b",{children:[" ",t.userid.name]})]})}),Object(n.jsx)(m.a,{icon:"chevron-down",className:"float-right mt-2"}),a?Object(n.jsxs)(n.Fragment,{children:[t.photo&&Object(n.jsx)("img",{src:t.photo,className:"post-pic"}),Object(n.jsxs)("div",{children:[t.title&&Object(n.jsxs)("span",{className:"d-inline-block  h4 font-weight-bold mt-2 mb-0 text-black",children:[" ",t.title]}),Object(n.jsx)("br",{}),t.description&&Object(n.jsxs)("span",{className:"d-inline-block text-muted font-weight-bold",children:[" ",t.description]})]})]}):Object(n.jsxs)(x.Link,{to:"/post/"+t._id,children:[t.photo&&Object(n.jsx)("img",{src:t.photo,className:"post-pic"}),Object(n.jsxs)("div",{children:[t.title&&Object(n.jsxs)("span",{className:"d-inline-block text-truncate h4 font-weight-bold mt-2 truncate mb-0 text-black",children:[" ",t.title]}),t.description&&Object(n.jsxs)("span",{className:"d-inline-block text-truncate truncate text-muted",children:[" ",t.description]})]})]}),Object(n.jsxs)("span",{className:"badge badge-pill badge-light",children:[" ",t.category," "]}),Object(n.jsxs)("span",{className:"badge badge-pill badge-light ml-2",children:[" ",t.country]}),Object(n.jsxs)("span",{className:"badge badge-pill badge-light ml-2",children:[" ",t.state]}),o&&Object(n.jsxs)("div",{className:"contact-info p-3 mt-3 mb-3",children:[Object(n.jsxs)("h4",{children:[Object(n.jsx)("b",{children:"Contact Info"})," ",Object(n.jsx)("span",{onClick:function(){return j(!1)},className:"float-right",children:Object(n.jsx)(m.a,{icon:"x"})})," "]}),t.phone&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Phone:"})," ",t.phone," "]}),Object(n.jsx)("br",{})]}),t.mail&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Email:"})," ",t.mail," "]}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Address:"})," ",t.address,", ",t.state,", ",t.country," "]})]}),Object(n.jsxs)("div",{className:"row text-primary mt-3 fs16 ",children:[Object(n.jsx)("div",{className:"col text-center px-0",onClick:function(){return j(!0)},children:Object(n.jsx)("span",{children:Object(n.jsxs)("b",{children:[Object(n.jsx)(m.a,{icon:"phone",size:15})," Contact"]})})}),Object(n.jsx)("div",{className:"col text-center px-0",children:Object(n.jsx)("span",{children:Object(n.jsxs)("b",{children:[Object(n.jsx)(m.a,{icon:"message-circle",size:15})," Comment"]})})}),Object(n.jsx)("div",{className:"col text-center px-0",onClick:function(){!function(){if(window.location.port)var e=window.location.hostname+":"+window.location.port+"/post/"+t._id;else e=window.location.hostname+"#/post/"+t._id;f(e),c(e)}()},children:Object(n.jsx)("span",{children:Object(n.jsxs)("b",{children:[Object(n.jsx)(m.a,{icon:"share-2",size:15})," Share"]})})})]})]})},v=c(44),N=c.n(v),y=c(21)("accessToken"),k=N.a.create({baseURL:"https://blooming-retreat-98193.herokuapp.com/",timeout:3e3,headers:{Authorization:"Bearer "+y}}),S=c(22),w=(c(26),c(17)),C=(c(27),function(){var e=Object(s.useState)(!0),t=Object(O.a)(e,2),c=(t[0],t[1]),a=Object(s.useState)(!1),r=Object(O.a)(a,2),i=(r[0],r[1]),o=Object(s.useState)("requirement"),j=Object(O.a)(o,2),l=j[0],b=j[1],p=Object(s.useState)([null]),m=Object(O.a)(p,2),x=m[0],f=(m[1],Object(s.useState)([])),v=Object(O.a)(f,2),N=v[0],y=v[1],C=Object(s.useState)(0),E=Object(O.a)(C,2),F=E[0],q=E[1],L=Object(s.useState)(!1),_=Object(O.a)(L,2),B=_[0],D=_[1],P=Object(s.useState)([]),T=Object(O.a)(P,2),A=T[0],R=T[1],U=Object(s.useState)(0),z=Object(O.a)(U,2),I=z[0],H=z[1],M=Object(s.useState)(!1),V=Object(O.a)(M,2),W=V[0],J=V[1],G=Object(s.useState)("null"),K=Object(O.a)(G,2),Q=K[0],X=K[1],Y=Object(s.useState)("collaspe"),Z=Object(O.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)(""),ce=Object(O.a)(te,2),ne=ce[0],se=ce[1];function ae(){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(d.a.mark((function e(){var t,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),i(!1),e.prev=2,t="","/posts?",n="requirement"==l?F:I,l&&(t+="skip="+n+"&type="+l),x[0]&&(t+="&category="+x),e.next=10,k.get("/posts?"+t);case 10:s=e.sent,console.log(s.data),"requirement"==l?(y(N.concat(s.data)),q(F+10),(!s.data[0]||s.data.length<10)&&(D(!0),console.log("stoped"))):(R(A.concat(s.data)),H(I+10),(!s.data[0]||s.data.length<10)&&(J(!0),console.log("stoped"))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),i(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){"requirement"==l?(ee("collaspe"),X("null")):(X("collaspe"),ee("null"))}),[l]),Object(s.useEffect)((function(){ne&&w.b.info("Link copied !!!",{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[ne]),Object(n.jsxs)("div",{children:[Object(n.jsx)(w.a,{}),Object(n.jsx)("input",{id:"forcopytext",value:""}),Object(n.jsx)(h,{home:!0,settype:b,type:l}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"tab1 pt120 tabdiv "+Q,children:[N.map((function(e){return Object(n.jsx)(g,{data:e,setcopied:se},e._id)})),!B&&Object(n.jsx)(S.a,{as:"div",onChange:function(e,t){e&&ae()},children:Object(n.jsx)("div",{className:"container mb-4 text-center",children:Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status"})})})]}),Object(n.jsxs)("div",{className:"tab2 pt120 tabdiv "+$,children:[A.map((function(e){return Object(n.jsx)(g,{data:e,setcopied:se},e._id)})),!W&&Object(n.jsx)(S.a,{as:"div",onChange:function(e,t){e&&ae()},children:Object(n.jsx)("div",{className:"container mb-4 text-center",children:Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status"})})})]})]})]})}),E=function(e){var t=Object(o.k)();return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"header p-2 px-2",children:Object(n.jsxs)("span",{className:"text-primary headtwo",children:[Object(n.jsx)(m.a,{onClick:function(){t.go(-1)},icon:"chevron-left",color:"black"}),"   ",e.name]})})})},F=(c(88),function(){return Object(n.jsx)("div",{className:"loadingdiv",children:Object(n.jsx)("div",{className:"lodingcenterdiv",children:Object(n.jsx)("div",{className:"spinner-border text-primary loadingitem ",role:"status",children:Object(n.jsx)("span",{class:"sr-only",children:"Loading..."})})})})}),q=(c(89),c.p+"static/media/user.05d0404a.png"),L=c(21),_=function(e){var t=e.match,c=Object(s.useState)([]),a=Object(O.a)(c,2),r=a[0],i=a[1],j=Object(s.useState)(!0),l=Object(O.a)(j,2),b=l[0],p=l[1],h=Object(s.useState)(!1),f=Object(O.a)(h,2),v=(f[0],f[1]),N=Object(s.useState)(0),y=Object(O.a)(N,2),C=y[0],_=y[1],B=Object(s.useState)(!0),D=Object(O.a)(B,2),P=D[0],T=D[1],A=Object(s.useState)([]),R=Object(O.a)(A,2),U=R[0],z=R[1],I=Object(s.useState)(""),H=Object(O.a)(I,2),M=H[0],V=H[1];Object(o.k)();function W(){return(W=Object(u.a)(d.a.mark((function e(){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),v(!1),e.prev=2,c=t.params.id,n="me"==c?"/users":"/users/"+c,e.next=7,k.get(n);case 7:s=e.sent,console.log(s.data),i(s.data),p(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),v(e.t0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(d.a.mark((function e(){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="me"==(c=t.params.id)?L("user_id"):c,n="/posts/userposts?userid="+c+"&skip="+C,e.next=6,k.get(n);case 6:s=e.sent,console.log(s.data),z(U.concat(s.data)),_(C+10),(!s.data[0]||s.data.length<10)&&(T(!0),console.log("stoped")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),v(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){M&&w.b.info("Link copied !!!",{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[M]),Object(s.useEffect)((function(){console.log("effect"),function(){return W.apply(this,arguments)}().then((function(){return T(!1)}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(w.a,{}),Object(n.jsx)(E,{name:"Profile"}),!b&&Object(n.jsxs)("div",{className:"mt60",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-8",children:[Object(n.jsx)("h2",{className:"mb-0 text-break",children:r.name}),r.description&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"font-weight-bold text-muted",children:r.description}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("span",{className:"text-muted location-text",children:[" ",Object(n.jsx)(m.a,{icon:"map-pin",size:14})," ",r.country,", ",r.state," "]}),Object(n.jsx)("br",{}),r._id==L("user_id")?Object(n.jsx)(x.Link,{to:"/editprofile",children:Object(n.jsx)("button",{className:"btn btn-primary mt-2",children:"Edit Profile"})}):null]}),Object(n.jsx)("div",{className:"col-4 ",children:Object(n.jsx)("img",{className:"userdp",src:null!=r.profilepic?r.profilepic:q})})]}),Object(n.jsx)("br",{}),U.map((function(e){return Object(n.jsx)(g,{data:e,setcopied:V},e._id)})),!P&&Object(n.jsx)(S.a,{as:"div",onChange:function(e,t){e&&function(){J.apply(this,arguments)}()},children:Object(n.jsx)("div",{className:"container mb-4 text-center",children:Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status"})})})]}),b&&Object(n.jsx)(F,{})]})},B=c(15),D=c(9),P=c(21),T=function(){var e=Object(o.k)(),t=Object(s.useState)([]),c=Object(O.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(!1),j=Object(O.a)(i,2),l=j[0],b=j[1],p=Object(s.useState)(!1),m=Object(O.a)(p,2),x=m[0],f=m[1];function g(){return(g=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),f(!1),e.prev=2,e.next=5,k.post("/users/login",a);case 5:if(!(t=e.sent).data.accessToken){e.next=8;break}return e.abrupt("return",t.data);case 8:b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),f(e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var v=function(e){r(Object(D.a)(Object(D.a)({},a),{},Object(B.a)({},e.target.name,e.target.value.trim())))};function N(t){t.preventDefault(),function(){return g.apply(this,arguments)}().then((function(t){t.accessToken&&(P("accessToken",t.accessToken),P("user_id",t.user_id),e.replace("/#/"))}))}return Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{home:!1}),Object(n.jsxs)("div",{className:"mt60 pt-5",children:[Object(n.jsx)("h2",{children:"Welcome Back"}),Object(n.jsx)("span",{children:"Donate and get donated."}),Object(n.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return N(e)},children:[Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:v})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Password"})}),Object(n.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:v})]}),x&&Object(n.jsxs)("span",{className:"text-danger font-weight-bold",children:["Incorrect email and password combination. ",Object(n.jsx)("br",{})]}),Object(n.jsx)("button",{type:"submit",className:"mt-2 btn  btn-primary",children:l?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsx)(n.Fragment,{children:"Login"})})]}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"text-muted",onClick:function(){e.replace("/signup")},children:Object(n.jsxs)("b",{children:["Don't have an account? ",Object(n.jsx)("a",{children:"SignUp"})," "]})})]})]})},A=c(28),R=c(21),U=function(){var e=Object(o.k)(),t=Object(s.useState)([]),c=Object(O.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(!1),j=Object(O.a)(i,2),l=j[0],b=j[1],p=Object(s.useState)(!1),m=Object(O.a)(p,2),x=m[0],f=m[1],g=Object(s.useState)([]),v=Object(O.a)(g,2),N=v[0],y=v[1],S=Object(s.useState)([]),w=Object(O.a)(S,2),C=w[0],E=w[1];function F(){return(F=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),b(!0),f(!1),e.prev=3,e.next=6,k.post("/users",a);case 6:if(!(t=e.sent).data){e.next=9;break}return e.abrupt("return",t.data);case 9:b(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),f(e.t0),b(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}var q=function(e){r(Object(D.a)(Object(D.a)({},a),{},Object(B.a)({},e.target.name,e.target.value.trim())))};function L(t){t.preventDefault(),function(){return F.apply(this,arguments)}().then((function(t){t.accessToken&&(R("accessToken",t.accessToken),R("user_id",t.user_id),e.replace("/"))}))}return Object(s.useEffect)((function(){a.country&&y(A.searchCountry(a.country))}),[a.country]),Object(s.useEffect)((function(){a.state&&E(A.getAllStatesFromCountry(a.country))}),[a.state]),Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{home:!1}),Object(n.jsxs)("div",{className:"mt60 pt-5",children:[Object(n.jsx)("h2",{children:"Welcome to Donate"}),Object(n.jsx)("span",{children:"Donate and get donated."}),Object(n.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return L(e)},children:[Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)("input",{type:"text",className:"form-control",required:!0,name:"name",onChange:q})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:q})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Password"})}),Object(n.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:q})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Country"})}),Object(n.jsx)("input",{list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:q}),Object(n.jsx)("datalist",{id:"countrylist",children:N.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"State"})}),Object(n.jsx)("input",{type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:q}),Object(n.jsx)("datalist",{id:"statelist",children:C.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),x&&Object(n.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email already exists try to log in. ",Object(n.jsx)("br",{})]}),Object(n.jsx)("button",{type:"submit",className:"mt-2 btn  btn-primary",children:l?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsx)(n.Fragment,{children:"SignUp"})})]}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"text-muted",onClick:function(){e.replace("/login")},children:Object(n.jsxs)("b",{children:["Already have an account? ",Object(n.jsx)("a",{children:"LogIn"})," "]})})]})]})},z=(c(97),c(45)),I=(c(98),c(23)),H=function(e){new FileReader;var t=Object(s.useState)(e.pic),c=Object(O.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(!1),o=Object(O.a)(i,2),j=o[0],l=o[1],b=Object(s.useState)("#"),p=Object(O.a)(b,2),m=(p[0],p[1],Object(s.useState)()),x=Object(O.a)(m,2),h=x[0],f=x[1],g=Object(s.useState)(),v=Object(O.a)(g,2),N=v[0],y=v[1],S=Object(s.useState)(!1),w=Object(O.a)(S,2),C=w[0],E=w[1],F=Object(s.useState)(!1),L=Object(O.a)(F,2),_=(L[0],L[1]),B=new FormData;function D(){return(D=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),_(!1),e.prev=2,e.next=5,k.put("/users/profilephoto",B);case 5:if(!e.sent){e.next=9;break}return E(!1),e.abrupt("return",!0);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),_(e.t0),E(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var P=function(){var e=Object(u.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return c=t.target.files[0],y(t.target.files[0].name),e.next=5,URL.createObjectURL(c);case 5:n=e.sent,r(n),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){r(null!=e.pic?e.pic:q)}),[]),Object(n.jsxs)("div",{className:"row mt-3",children:[Object(n.jsx)("div",{className:"m-auto",children:j?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(z.a,{style:{height:200,width:"90%"},initialAspectRatio:1,aspectRatio:1,src:a,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:0,checkOrientation:!1,onInitialized:function(e){f(e)}}),Object(n.jsx)("button",{className:"btn btn-outline-primary btn-block mt-2",onClick:function(){E(!0),"undefined"!==typeof h&&h.getCroppedCanvas().toBlob((function(e){Object(I.a)(e,{maxSizeMB:1,maxWidthOrHeight:200}).then((function(e){B.append("avatar",e,N),function(){return D.apply(this,arguments)}().then(r(h.getCroppedCanvas().toDataURL())).then(l(!1))}))}))},children:C?Object(n.jsx)(n.Fragment,{children:" loading"}):Object(n.jsx)(n.Fragment,{children:"Crop & Upload"})})]}):Object(n.jsx)("img",{src:a,className:"dp"})}),Object(n.jsxs)("div",{className:"col-12 mt-3",children:[Object(n.jsx)("input",{hidden:!0,id:"photoinput",type:"file",accept:"image/*",onChange:P}),Object(n.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){document.getElementById("photoinput").click()},children:" Change Image "})]})]})},M=c(28),V=function(){var e=Object(s.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(null),i=Object(O.a)(r,2),o=i[0],j=i[1],l=Object(s.useState)([]),b=Object(O.a)(l,2),p=b[0],m=b[1],x=Object(s.useState)(!1),h=Object(O.a)(x,2),f=h[0],g=h[1],v=Object(s.useState)(!1),N=Object(O.a)(v,2),y=(N[0],N[1]),S=Object(s.useState)(!1),w=Object(O.a)(S,2),C=w[0],q=w[1],L=Object(s.useState)(!1),_=Object(O.a)(L,2),P=_[0],T=_[1],A=Object(s.useState)(!1),R=Object(O.a)(A,2),U=R[0],z=R[1],I=Object(s.useState)([]),V=Object(O.a)(I,2),W=V[0],J=V[1],G=Object(s.useState)([]),K=Object(O.a)(G,2),Q=K[0],X=K[1];function Y(){return(Y=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(p),q(!0),T(!1),e.prev=3,e.next=6,k.put("/users",p);case 6:e.sent&&(q(!1),z(!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),T(e.t0),q(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),y(!1),e.prev=2,"/users",e.next=6,k.get("/users");case 6:t=e.sent,console.log(t.data),a(t.data),j(t.data.profilepic),g(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),y(e.t0),g(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var $=function(e){m(Object(D.a)(Object(D.a)({},p),{},Object(B.a)({},e.target.name,e.target.value.trim())))};function ee(e){e.preventDefault(),function(){Y.apply(this,arguments)}()}return Object(s.useEffect)((function(){!function(){Z.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){p.country&&J(M.searchCountry(p.country))}),[p.country]),Object(s.useEffect)((function(){p.state&&X(M.getAllStatesFromCountry(p.country))}),[p.state]),Object(s.useEffect)((function(){U&&setTimeout((function(){z(!1)}),3e3)}),[U]),Object(n.jsxs)("div",{className:"mt60 pt-2 pb-5 ",children:[Object(n.jsx)(E,{name:"Edit Profile"}),!f&&Object(n.jsxs)("div",{children:[Object(n.jsx)(H,{pic:o}),Object(n.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return ee(e)},children:[Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)("input",{defaultValue:c.name,type:"text",className:"form-control",required:!0,name:"name",onChange:$})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsx)("input",{defaultValue:c.email,type:"email",className:"form-control",required:!0,name:"email",onChange:$})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Description"})}),Object(n.jsx)("textarea",{defaultValue:c.description,type:"email",className:"form-control",name:"description",onChange:$})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Country"})}),Object(n.jsx)("input",{defaultValue:c.country,list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:$}),Object(n.jsx)("datalist",{id:"countrylist",children:W.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"State"})}),Object(n.jsx)("input",{defaultValue:c.state,type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:$}),Object(n.jsx)("datalist",{id:"statelist",children:Q.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),P&&Object(n.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email already exists. ",Object(n.jsx)("br",{})]}),U&&Object(n.jsxs)("span",{className:"text-success font-weight-bold",children:["Updated Successfully. ",Object(n.jsx)("br",{})]}),Object(n.jsx)("button",{type:"submit",className:"mt-2 btn  btn-primary",children:C?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsx)(n.Fragment,{children:"Save"})})]})]}),f&&Object(n.jsx)(F,{})]})},W=c(28),J=function(){var e=new FormData,t=Object(s.useState)(!1),c=Object(O.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)([]),o=Object(O.a)(i,2),j=o[0],l=o[1],b=Object(s.useState)(!1),p=Object(O.a)(b,2),x=p[0],h=p[1],f=Object(s.useState)(!1),g=Object(O.a)(f,2),v=g[0],N=g[1],y=Object(s.useState)(!1),S=Object(O.a)(y,2),w=S[0],C=S[1],F=Object(s.useState)([]),q=Object(O.a)(F,2),L=q[0],_=q[1],P=Object(s.useState)([]),T=Object(O.a)(P,2),A=T[0],R=T[1],U=Object(s.useState)(null),z=Object(O.a)(U,2),H=z[0],M=z[1];function V(){return(V=Object(u.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c in j)e.append(c,j[c]);return h(!0),C(!1),t.prev=3,t.next=6,k.post("/posts",e);case 6:t.sent&&(h(!1),r(!0),window.scrollTo(0,0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),C(t.t0),h(!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}var J=function(e){l(Object(D.a)(Object(D.a)({},j),{},Object(B.a)({},e.target.name,e.target.value.trim())))};function G(e){e.preventDefault(),function(){V.apply(this,arguments)}()}function K(){return(K=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,URL.createObjectURL(t);case 2:c=e.sent,M(c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){j.country&&_(W.searchCountry(j.country))}),[j.country]),Object(s.useEffect)((function(){j.state&&R(W.getAllStatesFromCountry(j.country))}),[j.state]),Object(s.useEffect)((function(){l(Object(D.a)(Object(D.a)({},j),{},{type:"requirement",category:"food",avatar:null}))}),[]),Object(n.jsxs)("div",{className:"mt60  pb-5",children:[Object(n.jsx)(E,{name:"Add Post"}),a?Object(n.jsx)("div",{className:"text-center ",children:Object(n.jsx)("h1",{children:"Upload Successfull."})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"pt-1 px-2",onSubmit:function(e){return G(e)},children:[Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Type"})}),Object(n.jsxs)("select",{className:"form-control",required:!0,name:"type",onChange:J,children:[Object(n.jsx)("option",{value:"requirement",children:"Requirement"}),Object(n.jsx)("option",{value:"donation",children:"Donation"})]})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Category"})}),Object(n.jsxs)("select",{className:"form-control",required:!0,name:"category",onChange:J,children:[Object(n.jsx)("option",{value:"food",children:"Food"}),Object(n.jsx)("option",{value:"blood",children:"Blood"}),Object(n.jsx)("option",{value:"clothes",children:"Clothes"}),Object(n.jsx)("option",{value:"books",children:"Books"}),Object(n.jsx)("option",{value:"Money",children:"Money"}),Object(n.jsx)("option",{value:"Others",children:"Others"})]})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Title"})}),Object(n.jsx)("input",{type:"text",className:"form-control",required:!0,name:"title",onChange:J})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Description"})}),Object(n.jsx)("textarea",{type:"text",className:"form-control",required:!0,name:"description",onChange:J})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Address"})}),Object(n.jsx)("input",{type:"text",className:"form-control",required:!0,name:"address",onChange:J})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Phone"})}),Object(n.jsx)("span",{className:"text-muted text-small",children:" (Optional)"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"phone",onChange:J})]}),Object(n.jsxs)("div",{className:"form-group ",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Email"})}),Object(n.jsx)("span",{className:"text-muted text-small",children:" (Optional)"}),Object(n.jsx)("input",{type:"email",className:"form-control",name:"mail",onChange:J})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"Country"})}),Object(n.jsx)("input",{list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:J}),Object(n.jsx)("datalist",{id:"countrylist",children:L.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:"State"})}),Object(n.jsx)("input",{type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:J}),Object(n.jsx)("datalist",{id:"statelist",children:A.map((function(e){return Object(n.jsx)("option",{value:e.name},e.id)}))})]}),Object(n.jsx)("input",{hidden:!0,id:"postphotoinput",name:"avatar",type:"file",accept:"image/*",onChange:function(e){N(!0),e.target.files[0]&&Object(I.a)(e.target.files[0],{maxSizeMB:2,maxWidthOrHeight:1080}).then((function(e){l(Object(D.a)(Object(D.a)({},j),{},{avatar:e})),function(e){return K.apply(this,arguments)}(e).then(N(!1))}))}}),Object(n.jsx)("button",{type:"submit",id:"submitpost",hidden:!0,className:"mt-3 btn  btn-primary",children:x?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsx)(n.Fragment,{children:"Post"})})]}),H&&Object(n.jsx)("img",{className:"img-preview  mb-2",src:H}),Object(n.jsxs)("button",{onClick:function(){document.getElementById("postphotoinput").click()},className:"btn btn-light btn-block mt-2",children:[v?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{icon:"image"})," Add Photo"]})," "]}),w&&Object(n.jsxs)("span",{className:"text-danger font-weight-bold",children:["Error. ",Object(n.jsx)("br",{})]}),Object(n.jsx)("button",{onClick:function(){document.getElementById("submitpost").click()},className:"mt-3 btn  btn-primary",children:x?Object(n.jsx)(n.Fragment,{children:"Loading..."}):Object(n.jsx)(n.Fragment,{children:"Upload"})})]})]})},G=function(e){var t=e.match,c=Object(s.useState)([]),a=Object(O.a)(c,2),r=a[0],i=a[1],j=Object(s.useState)(!0),l=Object(O.a)(j,2),b=l[0],p=l[1],m=Object(s.useState)(!1),x=Object(O.a)(m,2),h=(x[0],x[1]),f=(Object(o.k)(),Object(s.useState)("")),v=Object(O.a)(f,2),N=v[0],y=v[1];function S(){return(S=Object(u.a)(d.a.mark((function e(){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),h(!1),e.prev=2,c=t.params.id,n="/posts/getpost/"+c,e.next=7,k.get(n);case 7:s=e.sent,console.log(s.data),i(s.data),p(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),h(e.t0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){N&&w.b.info("Link copied !!!",{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[N]),Object(n.jsxs)("div",{children:[Object(n.jsx)(E,{name:"Post"}),Object(n.jsx)(w.a,{}),!b&&Object(n.jsx)("div",{className:"mt60",children:r.map((function(e){return Object(n.jsx)(g,{data:e,setcopied:y,fullview:!0},e._id)}))}),b&&Object(n.jsx)(F,{})]})},K=c(21);var Q=function(){return Object(n.jsx)("div",{className:"app-div m-auto",children:Object(n.jsxs)(j.CacheSwitch,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/home"],children:K("accessToken")?Object(n.jsx)(C,{}):Object(n.jsx)(o.c,{to:"/signup"})}),Object(n.jsx)(l.a,{path:"/profile/:id",component:_,multiple:!0}),Object(n.jsx)(l.a,{path:"/post/:id",component:G,multiple:!0}),Object(n.jsx)(l.a,{path:"/editprofile",component:V}),Object(n.jsx)(o.d,{exact:!0,path:"/login",component:T}),Object(n.jsx)(o.d,{exact:!0,path:"/signup",component:U}),Object(n.jsx)(o.d,{exact:!0,path:"/addpost",component:J})]})})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(x.HashRouter,{children:Object(n.jsx)(Q,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.6c70dedd.chunk.js.map